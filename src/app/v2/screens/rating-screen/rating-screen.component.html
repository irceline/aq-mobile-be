<ion-content>
  <div class="rating-top" [ngStyle]="{'background-color': backgroundColor}"></div>
  <div [ngStyle]="{'background-color': backgroundColor}">

    <ng-container *ngIf="!feedbackLocation">
      <div class="rating ion-padding">
        <p class="report-title">{{ 'v2.screens.rating-screen.report-air-pollution' | translate }}</p>
        <p class="report-description">{{ 'v2.screens.rating-screen.report-description' | translate }}</p>
        <div class="image-wrapper">
          <div class="image-blur" [ngStyle]="{'background-color': backgroundColor}"></div>
          <div class="image-container" [ngStyle]="{'background-color': backgroundColor}">
          </div>
        </div>
        <div class="rating--info" *ngIf="!isFeedbackOpened && !feedbackLocation">
          <p>
            {{ 'v2.screens.rating-screen.calculated-value' | translate }}
          </p>
          <strong>{{ 'v2.screens.rating-screen.possible-causes' | translate }}</strong>
          <ion-item lines="none">
            <ion-icon src="/assets/images/icons/woodburn.svg" slot="start"></ion-icon>
            <ion-label class="ion-text-wrap" [innerHTML]="'v2.screens.rating-screen.fire' | translate"></ion-label>
          </ion-item>

          <ion-item lines="none">
            <ion-icon src="/assets/images/icons/traffic.svg" slot="start"></ion-icon>
            <ion-label class="ion-text-wrap" [innerHTML]="'v2.screens.rating-screen.exhaust' | translate"></ion-label>
          </ion-item>

          <ion-item lines="none">
            <ion-icon src="/assets/images/icons/industry.svg" slot="start"></ion-icon>
            <ion-label class="ion-text-wrap" [innerHTML]="'v2.screens.rating-screen.industry' | translate"></ion-label>
          </ion-item>

          <ion-item lines="none">
            <ion-icon src="/assets/images/icons/agriculture.svg" slot="start"></ion-icon>
            <ion-label class="ion-text-wrap"
              [innerHTML]="'v2.screens.rating-screen.agriculture' | translate"></ion-label>
          </ion-item>
        </div>
        <ion-button fill="white" class="feedback-interact" (click)="goToForm()"
          [ngStyle]="{'color': backgroundColor}">
          {{ 'feedback.make-a-report' | translate }}
        </ion-button>
        <!-- <app-feedback [location]="currentActiveIndex?.location" (feedbackOpened)="feedbackOpened()"
          (feedbackGiven)="feedbackGiven($event)"></app-feedback> -->
      </div>
    </ng-container>

    <ng-container *ngIf="feedbackLocation">
      <!-- TEMP DISABLE THIS -->
      <app-success-display [feedbackStats]="feedbackStats" [location]="feedbackLocation">
      </app-success-display>
    </ng-container>
  </div>
</ion-content>